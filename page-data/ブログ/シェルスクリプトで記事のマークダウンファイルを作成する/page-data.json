{"componentChunkName":"component---src-templates-blog-post-js","path":"/ブログ/シェルスクリプトで記事のマークダウンファイルを作成する/","result":{"data":{"site":{"siteMetadata":{"title":"悪魔のオコトバ"}},"markdownRemark":{"id":"cae80992-85e4-5387-b804-9ef931ef7d15","excerpt":"GatsbyJSのスターター”gatsby-starter-blog”で作成している当サイトの記事ファイルを作成するのが結構手間だったのでシェルスクリプトにまとめました。 gatsby-starter-blogのマークダウンファイルの構造 gatsby-starter-blog…","html":"<p>GatsbyJSのスターター”gatsby-starter-blog”で作成している当サイトの記事ファイルを作成するのが結構手間だったのでシェルスクリプトにまとめました。</p>\n<h2>gatsby-starter-blogのマークダウンファイルの構造</h2>\n<p>gatsby-starter-blogの中のマークダウンファイルの階層は以下のようになっています。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{GatsbyJSプロジェクト}/content/blog/任意の数の階層~/記事名/index.md</code></pre></div>\n<p>たぶん記事名のところは記事名と合わせなくてもいいんだと思いますが、管理の都合上記事名にしています。<br>\nいちいちディレクトリを<code class=\"language-text\">mkdir -p ./xxxxxx</code>で作成してさらにファイルを作成して・・・というのが面倒だったので、カテゴリ名（階層）と記事名を指定したらFront Matterのテンプレごと作成してくれるようにします。</p>\n<h2>スクリプト内でやること</h2>\n<ul>\n<li>ディレクトリの作成</li>\n<li>mdファイルの作成</li>\n<li>mdファイルにFront Matterを書き込む</li>\n<li>完了の旨ログを出す</li>\n</ul>\n<h2>完成品</h2>\n<p><em>mken.sh</em> - make entryの略です\n今回はGatsbyJSのプロジェクトフォルダの直下に置きました。</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">!#/bin/bash\n\n#Parameter1: Category name\n#Parameter2: Entry title\n\ndir=&quot;./${1}/${2}/&quot;\nfile=&quot;${dir}index.md&quot;\n\ncd ./content/blog/\n\n#ディレクトリ作成\nmkdir -p $dir\n#ファイル作成・Front Matter書き込み\necho &quot;---&quot; &gt; ${file}\necho &quot;title: \\&quot;${2//_/ }\\&quot;&quot; &gt;&gt; ${file}\necho &quot;date: \\&quot;`date &quot;+%Y-%m-%d %H:%M:%S&quot;`\\&quot;&quot; &gt;&gt; ${file}\necho &quot;description: \\&quot;\\&quot;&quot; &gt;&gt; ${file}\necho &quot;category: \\&quot;${1}\\&quot;&quot; &gt;&gt; ${file}\necho &quot;tags: []&quot; &gt;&gt; ${file}\necho &quot;---&quot; &gt;&gt; ${file}\n\n#成功出力\necho &quot;Create ${file}&quot;\n#ファイルを開く\ncode ${file}</code></pre></div>\n<p>自動でFront MatterのTitle, Date, Categoryを設定できるようにしました。\nタイトルにスペースを入れたい場合はスペースを<code class=\"language-text\">_</code>と置き、Front Matter内でスペースに置き換えます。</p>\n<h2>実行ファイルにする</h2>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">chmod +x ./mken.sh</code></pre></div>\n<h2>実行</h2>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">./mken.sh Blog シェルスクリプトで記事のマークダウンファイルを作成する</code></pre></div>\n<p>{プロジェクト}/content/blog/Blog/シェルスクリプトで記事のマークダウンファイルを作成する/index.md</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">---\ntitle: &quot;シェルスクリプトでの記事のマークダウンファイルを作成する&quot;\ndate: &quot;2020-06-01 19:54:54&quot;\ndescription: &quot;&quot;\ncategory: &quot;Blog&quot;\ntags: []\n---</code></pre></div>\n<p>ちゃんとFront Matterが設定されたファイルができました。<br>\nよーしらくちんになったぞ！</p>","frontmatter":{"title":"シェルスクリプトでの記事のマークダウンファイルを作成する","date":"June 01, 2020","description":"GatsbyJSのgatsby-starter-blogでブログ記事を作成するときに記事と同じ名前のディレクトリを作成してその中にindex.mdを作成しなければならないのが面倒だったのでシェルスクリプトを作成した。","category":"ブログ"}}},"pageContext":{"slug":"/ブログ/シェルスクリプトで記事のマークダウンファイルを作成する/","previous":{"fields":{"slug":"/ブログ/GatsbyJSのサイトをGithub_Pagesで公開する/"},"frontmatter":{"title":"GatsbyJSのサイトをGithub Pagesで公開する","category":"ブログ"}},"next":{"fields":{"slug":"/ブログ/GatsbyJSのマークダウンファイル内で数式を表示する方法/"},"frontmatter":{"title":"GatsbyJSのマークダウンファイル内で数式を表示する方法","category":"ブログ"}}}}}